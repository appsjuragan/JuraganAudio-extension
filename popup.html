<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>JuraganAudio Toolkit</title>
  <link rel="stylesheet" type="text/css" href="popup.css" />
  <script src="snap.svg-min.js"></script>
  <script type="module" src="modules/main.js"></script>
</head>

<body>
  <!-- Radio Inputs for Tabs - Must be first for sibling selectors -->
  <input id="tab-1" type="radio" name="tab-group" checked="checked" />
  <input id="tab-2" type="radio" name="tab-group" />
  <input id="tab-3" type="radio" name="tab-group" />

  <div id="bottomControls">
    <div class="dashboard-grid">
      <!-- Left: Power & Reset -->
      <div class="dash-section power-section">
        <button id="eqTabButton" class="power-btn" title="Toggle EQ for this tab">
          <span class="power-icon">‚èª</span> EQ
        </button>
        <button id="resetFiltersButton" title="Reset all filters to flat">Reset</button>
      </div>

      <!-- Center: Preset Management -->
      <div class="dash-section preset-section">
        <select id="presetSelect" title="Select a preset">
          <option value="" disabled selected>Select preset</option>
        </select>
        <div class="preset-input-group">
          <input id="presetNameInput" type="text" placeholder="Preset Name" />
          <button id="savePresetButton" title="Save Preset">+</button>
          <button id="deletePresetButton" title="Delete Preset">-</button>
        </div>
      </div>

      <!-- Right: Settings & I/O -->
      <div class="dash-section settings-section">
        <div class="settings-row">
          <select id="qualityModeSelect" title="Audio quality mode">
            <option value="efficient">Efficient</option>
            <option value="quality">Quality</option>
            <option value="hifi">Hi-Fi</option>
          </select>
          <button id="vizButton" title="Toggle Spectrum Visualizer">Visualizer</button>
        </div>
        <div class="io-row">
          <button id="exportPresetsButton" title="Export Presets">Exp</button>
          <button id="importPresetsButton" title="Import Presets">Imp</button>
        </div>
      </div>
    </div>

    <!-- Hidden elements -->
    <div style="display:none;">
      <span id="userPresetSpan"></span>
      <button id="bassBoostButton">Bass Boost</button>
      <input type="file" id="importPresetsFile" />
    </div>
  </div>

  <h1>
    <span>JuraganAudio Toolkit</span>
    <div id="tabNav">
      <label id="label-1" for="tab-1">Controls</label>
      <label for="tab-2">Guide</label>
      <label for="tab-3">Active Tabs</label>
      <button id="themeToggle" title="Toggle Light/Dark Mode">üåì</button>
    </div>
  </h1>

  <div id="mainDiv">
    <!-- Inputs moved to body top -->

    <div id="eqDiv">
      <span id="limiterIndicator">LIM</span>
      <span id="sbrIndicator" title="Spectral Band Replication active - restoring high frequencies">SBR</span>
      <svg id="gainSvg" width="30" height="300"></svg>
      <svg id="eqSvg" width="640" height="300"></svg>
      <div id="eqOptionsDiv">
      </div>
    </div>
    <div id="guideDiv">
      <h3>üöÄ Getting Started</h3>
      <p>
        JuraganAudio works on a per-tab basis. Click the extension icon to activate audio processing for the current
        tab.
        Want to EQ multiple tabs? Just open them and click the icon on each one.
      </p>

      <h3>üéõÔ∏è Precision EQ</h3>
      <p>
        Take control with our interactive parametric equalizer:
      </p>
      <p>
        &bull; <strong>Shelf Filters (Purple):</strong> Best for broad bass or treble adjustments.<br>
        &bull; <strong>Notch Filters (Blue):</strong> Perfect for targeting specific frequencies.<br>
        &bull; <strong>Frequency (Left/Right):</strong> Slide to select the tone.<br>
        &bull; <strong>Gain (Up/Down):</strong> Boost the energy or cut the harshness.<br>
        &bull; <strong>Q-Factor (Shift + Drag):</strong> Adjust the width of the filter for surgical precision.
      </p>

      <h3>üåà Visual Insight</h3>
      <p>
        The real-time spectrum visualizer shows your audio's DNA. Lower sounds are on the left, higher sounds on the
        right.
        Watch how your EQ curve carves the sound in real-time.
        <a href="https://www.youtube.com/watch?v=VMnkYTan5pY" rel="noopener noreferrer" target="_blank">Watch the
          demo</a>.
      </p>

      <h3>üíé Advanced Tech</h3>
      <p>
        &bull; <strong>SBR (Spectral Band Replication):</strong> Restores high-frequency detail for a "crisp" and airy
        sound.
        Look for the <strong>SBR</strong> indicator.<br>
        &bull; <strong>Limiter (LIM):</strong> Prevents digital distortion. If the <strong>LIM</strong> indicator glows,
        JuraganAudio
        is protecting your ears and speakers.<br>
        &bull; <strong>Quality Modes:</strong> Choose <strong>Efficient</strong> for battery saving or
        <strong>Hi-Fi</strong>
        for the highest fidelity processing.
      </p>

      <h3>üíæ Presets</h3>
      <p>
        Found your perfect sound? Type a name and click <strong>+</strong> to save it. High-quality audio is now just
        one click away.
      </p>

      <p>
        Need a deep dive? Check out <a
          href="https://music.tutsplus.com/tutorials/how-to-use-a-parametric-equalizer--audio-2301"
          rel="noopener noreferrer" target="_blank">our EQ masterclass guide</a>.
      </p>
    </div>
    <div id="tabsDiv">
      <div id="eqTabList"></div>
    </div>
  </div>

  <div id="toast"></div>
</body>

</html>